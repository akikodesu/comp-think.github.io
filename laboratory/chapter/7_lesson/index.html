<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Data analysis of the Netflix shows - part 2 - Computational Thinking - Laboratory</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../../extra.css" rel="stylesheet">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <a class="navbar-brand" href="../..">Computational Thinking - Laboratory</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Chapters <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../01/" class="dropdown-item">1. Getting started with Python</a>
</li>
                                    
<li>
    <a href="../02/" class="dropdown-item">2. Programming in Python - the basics</a>
</li>
                                    
<li>
    <a href="../03/" class="dropdown-item">3. Working with lists and tuples</a>
</li>
                                    
<li>
    <a href="../04/" class="dropdown-item">4. Working with unordered structures</a>
</li>
                                    
<li>
    <a href="../05/" class="dropdown-item">5. Recursion and working with files</a>
</li>
                                    
<li>
    <a href="../06/" class="dropdown-item">6. Data analysis on Netflix shows</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a href="https://github.com/comp-think/comp-think.github.io" class="nav-link"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#data-analysis-of-the-netflix-shows-part-2" class="nav-link">Data analysis of the Netflix shows - part 2</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#text-analysis" class="nav-link">Text analysis</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#the-nltk-library" class="nav-link">The NLTK library</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#tokenization-and-stopwords-removal" class="nav-link">Tokenization and stopwords removal</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#toward-a-text-analysis-of-the-netflix-shows-dataset-see-also-the-github-repository" class="nav-link">Toward a text analysis of the Netflix shows dataset (see also the github repository)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="data-analysis-of-the-netflix-shows-part-2">Data analysis of the Netflix shows - part 2</h1>
<h5>Date: 04/12/2020</h5>
<h5>Time: 12:30-14:30</h5>
<h2 id="text-analysis">Text analysis</h2>
<p>Natural Language Processing (NLP) is about developing applications and services that can understand human languages.
Nowadays we have millions of gigabytes of data generated every day by blogs, social websites, and web pages. A big data analysis using NLP applications can turn out to be very beneficial. Possible NLP applications are speech recognition/translation, semantic analysis of the words, the syntactical/grammatical analysis of the sentences and paragraphs, and others. The analysis of the text is a common and main task in NLP.
We will focus on some basic text analysis operations and how are they performed using Python.</p>
<div class="a-box notes-box">
<b>Note:</b><br>
If you are interested in a further application of NLP methods in python (beyond the materials of this lesson), I suggest you to read the following article: <a href="https://medium.com/towards-artificial-intelligence/text-mining-in-python-steps-and-examples-78b3f8fd913b">https://medium.com/towards-artificial-intelligence/text-mining-in-python-steps-and-examples-78b3f8fd913b</a>
</div>

<h2 id="the-nltk-library">The NLTK library</h2>
<p>The Natural language toolkit (NLTK) is a very popular library for natural language processing in python and it has a large active community behind it. We need to install it:</p>
<p><code class="py important">pip3 install nltk</code></p>
<p>To check if the NLTK library has been correctly installed we need to import it in our python script:</p>
<p><code class="py important">Import nltk</code></p>
<p>If every thing looks fine we will install/download popular nltk packages. We will download the popular and essential ones used for working with the basic nltk operations. Write the following line in your python script (after importing nltk):</p>
<p><code class="py important">nltk.download("popular")</code></p>
<div class="a-box notes-box">
<b>Note:</b><br>
In case running the above commands returns an error message: <b><i>"CERTIFICATE_VERIFY_FAILED"</i></b>, then write in your script only the following lines and run it again.

<div class="py-hint-box large">
<div class="code-sec large">
<span>import nltk</span><hr>
<span>import ssl</span><hr>
<span></span><hr>
<span>try:</span><hr>
<span>&nbsp;&nbsp;&nbsp;&nbsp;_create_unverified_https_context = ssl._create_unverified_context</span><hr>
<span>except AttributeError:</span><hr>
<span>&nbsp;&nbsp;&nbsp;&nbsp;pass</span><hr>
<span>else:</span><hr>
<span>&nbsp;&nbsp;&nbsp;&nbsp;ssl._create_default_https_context = _create_unverified_https_context</span><hr>
<span></span><hr>
<span>nltk.download()</span><hr>
</div>
</div>

If you still have some errors please follow these instructions <a href="https://www.xspdf.com/help/50406704.html">https://www.xspdf.com/help/50406704.html</a>
</div>

<h2 id="tokenization-and-stopwords-removal">Tokenization and stopwords removal</h2>
<p>First thing we want to do is a <strong>Tokenization</strong> and <strong>Stopwords removal</strong>.</p>
<p><strong>Tokenization</strong> is the process of separating and classifying different sections of a string. The resulting tokens are then passed on to some other form of processing.</p>
<div class="a-box notes-box">
<b>For example:</b><br><br>
If we want to tokenize the sentence <br><b><i>"Hi I am Marco and I am a DHDK student"</i></b><br><br>    
Our list of tokens would be:<br><i><b>"Hi", "I", "am", "Marco", "and", "I", "am", "a", "DHDK", "student"</b></i>
</div>

<p><strong>Stopwords removal</strong> these are words that may not carry any valuable information, like articles (e.g. "the"), conjunctions (e.g. "and"), or propositions (e.g. "with").</p>
<div class="a-box notes-box">
<b>For example:</b><br><br>
If we want to remove the stop words from the list of tokens <br><i><b>"Hi", "I", "am", "Marco", "and", "I", "am", "a", "DHDK", "student"</b></i> <br><br>
Then our new list could be:<br> <i><b>"Hi", "Marco", "DHDK", "student"</b></i>
</div>

<h2 id="toward-a-text-analysis-of-the-netflix-shows-dataset-see-also-the-github-repository">Toward a text analysis of the Netflix shows dataset <span class="inline-header">(see also the <a href="https://github.com/comp-think/2020-2021/tree/master/docs/laboratory/src/lessons/6_7">github repository</a>)</span></h2>
<p>Lets see an example in python first</p>
<div class="py-hint-box large">
<div class="code-sec large">
<span>from nltk.corpus import stopwords</span><hr>
<span>from nltk.tokenize import word_tokenize</span><hr>
<span></span><hr>
<span>example_sent = "I want to tokenize and remove all the stopwords from this sentence"</span><hr>
<span></span><hr>
<span class="comment"># Tokenize the given sentence</span><hr>
<span>word_tokens = word_tokenize(example_sent)</span><hr>
<span></span><hr>
<span class="comment"># Filter the stopwords</span><hr>
<span>stop_words = set(stopwords.words('english'))</span><hr>
<span>filtered_sentence = []</span><hr>
<span>for w in word_tokens:</span><hr>
<span>&nbsp;&nbsp;&nbsp;&nbsp;if not w in stop_words:</span><hr>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_sentence.append(w)</span><hr>
<span></span><hr>
<span>print(filtered_sentence</span><hr>
</div>  
</div>

<p><span class="inline-header">a)</span> define a function <code class="py">netflix_titles_tokens()</code> which returns a collection of all the different tokens/words in the Netflix shows titles. The collection should not include the stopwords.</p>
<div class="py-hint-box large">
  Mark the box to see the solution
  <div class="code-sec large solution">
  <span>from nltk.corpus import stopwords</span><hr>
  <span>from nltk.tokenize import word_tokenize</span><hr>
  <span></span><hr>
  <span>def netflix_titles_tokens():</span><hr>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;stop_words = set(stopwords.words('english'))</span><hr>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;result = set()</span><hr>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;for show in netflix_data:</span><hr>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word_tokens = word_tokenize(show["title"])</span><hr>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_sentence = []</span><hr>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for w in word_tokens:</span><hr>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if not w in stop_words:</span><hr>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_sentence.append(w)</span><hr>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.update(filtered_sentence)</span><hr>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;return result</span><hr>
  <span></span><hr>
  <span>print(netflix_titles_tokens())</span><hr>
  </div>
</div>

<p><span class="inline-header">b)</span> define a function <code class="py">netflix_director_names()</code> which returns a collection of all the tokens/words included in the director field of the Netflix shows dataset. Each token must be accompanied with a number representing its frequency in the dataset.</p>
<div class="a-box notes-box">
<b>Hint:</b><br>
Importing <code class="py">from nltk.probability import FreqDist</code> and using <code class="py">FreqDist({LIST_OF_TOKENS})</code> returns a dictionary, such that the dictionary key is a token and its value is the number of times it appears in the given list. To print the results you can use
<code class="py">{FREQ_DIST_DICT}.most_common({N})</code>, this function prints the {N} most frequent terms inside the dictionary {FREQ_DIST_DICT}.
<br><br>

<b>For example:</b><br>
<code class="py">FreqDist(["hi","bye","ciao","bye","hi"])</code> returns <code class="py">{"hi": 2, "bye":2, "ciao": 1}</code>

</div>

<div class="py-hint-box large">
  Mark the box to see the solution
  <div class="code-sec large solution">
    <span>from nltk.probability import FreqDist</span><hr>
    <span></span><hr>
    <span>def netflix_director_names():</span><hr>
    <span>&nbsp;&nbsp;&nbsp;&nbsp;result = []</span><hr>
    <span>&nbsp;&nbsp;&nbsp;&nbsp;for show in netflix_data:</span><hr>
    <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word_tokens = word_tokenize(show["director"])</span><hr>
    <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result += word_tokens</span><hr>
    <span>&nbsp;&nbsp;&nbsp;&nbsp;return FreqDist(result)</span><hr>
    <span></span><hr>
    <span>counts = netflix_director_names()</span><hr>
  </div>
</div></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../extra.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
