<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>4. Working with unordered structures - Computational Thinking - Laboratory</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../../extra.css" rel="stylesheet">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <a class="navbar-brand" href="../..">Computational Thinking - Laboratory</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Chapters <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../01/" class="dropdown-item">1. Getting started with Python</a>
</li>
                                    
<li>
    <a href="../02/" class="dropdown-item">2. Programming in Python - the basics</a>
</li>
                                    
<li>
    <a href="../03/" class="dropdown-item">3. Working with lists and tuples</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">4. Working with unordered structures</a>
</li>
                                    
<li>
    <a href="../05/" class="dropdown-item">5. Recursion and working with files</a>
</li>
                                    
<li>
    <a href="../06/" class="dropdown-item">6. Data analysis on Netflix shows</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../03/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../05/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/comp-think/comp-think.github.io" class="nav-link"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#working-with-unordered-structures" class="nav-link">Working with unordered structures</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#sets" class="nav-link">Sets</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#dictionaries" class="nav-link">Dictionaries</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#exercises" class="nav-link">Exercises</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="working-with-unordered-structures">Working with unordered structures</h1>
<h2 id="sets">Sets</h2>
<ul>
<li>A collection of unordered and unindexed items</li>
<li>We use Sets in order to have a collection without duplicates</li>
<li>The items of a set can't be accessed by referring to an index or a key</li>
<li>A Set contains only immutable data types, e.g. strings, numbers, or tuples</li>
</ul>
<pre class="code-overflow-wrap"><code class="language-python"># create a set of string items
a_set = {&quot;Roma&quot;, &quot;Torino&quot;, &quot;Bologna&quot;}

# create a set from a list
a_set = set([&quot;Roma&quot;, &quot;Torino&quot;, &quot;Bologna&quot;,&quot;Roma&quot;])

# add an item to the set
a_set.add(&quot;Palermo&quot;)

# remove an item from the set
a_set.remove(&quot;Palermo&quot;) # raise an error if the item isn't found
a_set.discard(&quot;Palermo&quot;) # doesn't raise errors if the item isn't found

#ERROR: we can't add a mutable item to the set
a_set.add([&quot;Rimini&quot;,&quot;Firenze&quot;])

# some operations: union, intersection, difference ... etc
b_set = {&quot;Napoli&quot;, &quot;Bari&quot;, &quot;Lecce&quot;, &quot;Roma&quot;}

new_set = a_set.union(b_set)
#OUTPUT: {'Bari', 'Bologna', 'Lecce', 'Napoli', 'Roma', 'Torino'}

new_set = a_set.intersection(b_set)
#OUTPUT: {'Roma'}

new_set = a_set.difference(b_set)
#OUTPUT: {'Bologna', 'Torino'}
</code></pre>
<h2 id="dictionaries">Dictionaries</h2>
<ul>
<li>A data structure that can store data in the form of key-value pairs</li>
<li>It provides an efficient and useful way for organizing the data under specific typologies (keys)</li>
<li>The items of a dictionary are accessed by specifying a key</li>
<li>The key values should be immutable data types, e.g. strings, numbers, or tuples</li>
<li>A dictionary can't contain duplicate keys</li>
</ul>
<pre class="code-overflow-wrap"><code class="language-python"># create a dictionary
ages_dict = {}

# add a new (key,value) pair
ages_dict[&quot;Marco&quot;] = 25
ages_dict[&quot;Alessia&quot;] = 22
ages_dict[&quot;Giulia&quot;] = 21
#OUTPUT: {'Marco': 25, 'Alessia':22, 'Giulia':21}

# accessing an item
print(ages_dict[&quot;Marco&quot;])

# remove an item from the dictionary
del ages_dict[&quot;Marco&quot;]

# important methods
ages_dict.items() #returns a sequence of (key,value) pairs
#OUTPUT: [('Alessia',22),('Giulia',21)]

a_dict = {&quot;Pippo&quot;:34}
ages_dict.update(a_dict) #updates ages_dict with the (key,value) pairs of a_dict
#OUTPUT: {'Alessia': 22, 'Giulia':21, 'Pippo':34}
</code></pre>
<h2 id="exercises">Exercises</h2>
<h3 id="1st-exercise">1st Exercise</h3>
<p>The variable <code class="py">lyrics</code> contains the lyrics (string value) of the song "Lonely Boy" by "The Black Keys". The words are all written in lowercase and the line breaks are represented with <code class="py">;;</code>   </p>
<pre class="code-overflow-wrap"><code class="language-python">lyrics = &quot;well i’m so above you ;; and it’s plain to see ;; but i came to love you anyway ;; so you pulled my heart out ;; and i don’t mind bleeding ;; any old time you keep me waiting ;; waiting, waiting ;; oh, oh-oh i got a love that keeps me waiting ;; oh, oh-oh i got a love that keeps me waiting ;; i’m a lonely boy ;; i’m a lonely boy ;; oh, oh-oh i got a love that keeps me waiting ;; well your mama kept you but your daddy left you ;; and i should’ve done you just the same ;; but i came to love you ;; am i born to bleed? ;; any old time you keep me waiting ;; waiting, waiting ;; oh, oh-oh i got a love that keeps me waiting ;; oh, oh-oh i got a love that keeps me waiting ;; i’m a lonely boy ;; i’m a lonely boy ;; oh, oh-oh i got a love that keeps me waiting ;; hey! ;; oh, oh-oh i got a love that keeps me waiting ;; oh, oh-oh i got a love that keeps me waiting ;; i’m a lonely boy ;; i’m a lonely boy ;; oh, oh-oh i got a love that keeps me waiting&quot;
</code></pre>
<p><strong>1.a)</strong> Define the function <code>clean_lyrics()</code> which takes <code>lyrics</code> as parameter and returns a set of all the unique words of the song excluding the following words <code class="py">['a', 'i', 'am', 'to', ';;', 'the', 'you', 'don’t', 'and', 'that', 'i’m', 'it’s']</code>. Once defined call the function and print its outcome.  </p>
<p><strong>Hint:</strong> in python the function <code>{string}.split({separator})</code> splits a string into a list of words using <code>{separator}</code> as splitter between the words in the string. For instance, <code>"Hi my name is James".split(" ")  -&gt; ["Hi", "my", "name", "is", "James"]</code></p>
<p><button class="toggle-solution btn btn-light" onclick="toggle_click(this,'sol_4_1a')">Show solution</button></p>
<pre id="sol_4_1a" class="code-overflow-wrap solution-code"><code class="language-python">
def clean_lyrics(txt_lyrics):
    lyrics_set = set(txt_lyrics.split(&quot; &quot;))
    unwanted_list = ['a', 'i', 'am', 'to', ';;', 'the', 'you', 'don’t', 'and', 'that', 'i’m', 'it’s']
    unwanted_set = set(unwanted_list)
    clean_set = lyrics_set.difference(unwanted_set)
    return clean_set

print(clean_lyrics(lyrics))
</code></pre>
<p><strong>1.b)</strong> Define the function <code>family_words()</code> which takes the outcome of <code>clean_lyrics()</code> as parameter and return the number of words that are also part of the following list <code>["mama","daddy","sister","brother","boy","girl"]</code>.</p>
<p><button class="toggle-solution btn btn-light" onclick="toggle_click(this,'sol_4_1b')">Show solution</button></p>
<pre id="sol_4_1b" class="code-overflow-wrap solution-code"><code class="language-python">def family_words(l_words):
    clean_set = set(l_words)
    l_words = [&quot;mama&quot;, &quot;daddy&quot;, &quot;sister&quot;, &quot;brother&quot;, &quot;boy&quot;, &quot;girl&quot;]
    s_words = set(l_words)
    common_set = clean_set.intersection(s_words)
    return len(common_set)

l_clean_lyrics = family_words(clean_lyrics(lyrics))
print(l_clean_lyrics)
</code></pre>
<p><strong>1.c)</strong> Define the function <code class="py">count_words()</code> which takes <code class="py">lyrics</code> as parameter and returns a dictionary with all the unique words as keys and the occurrences of each word as value. The dictionary must not include the following words <code class="py">['a', 'i', 'am', 'to', ';;', 'the', 'you', 'don’t', 'and', 'that', 'i’m', 'it’s']</code>.</p>
<p><button class="toggle-solution btn btn-light" onclick="toggle_click(this,'sol_4_1c')">Show solution</button></p>
<pre id="sol_4_1c" class="code-overflow-wrap solution-code"><code class="language-python">def count_words(txt_lyrics):
    result_dict = {}
    lyrics_l = txt_lyrics.split(&quot; &quot;)
    unwated_list = ['a', 'i', 'am', 'to', ';;', 'the', 'you', 'don’t', 'and', 'that', 'i’m', 'it’s']
    for w in lyrics_l:
        if w not in unwated_list:
            if w not in result_dict:
                result_dict[w] = 0
            result_dict[w] += 1
    return result_dict

count_dict = count_words(lyrics)
print(count_dict)
</code></pre>
<p><strong>1.d)</strong> Andrea wants to create a playlist with some songs by The Black Keys. He wrote down on a paper the list of songs he would like to include. For each song first, he wrote the name of the album and then the title of the song contained in it. The two values are separated using <em>"::"</em>. For instance, in <code class="py">el_camino::lonely_boy</code> the album name is "el_camino" and "lonely_boy" is the title of the song. Here we have the entire playlist of Andrea, the songs are separated by <em>";;"</em>:</p>
<pre class="code-overflow-wrap"><code class="language-python">playlist_txt = &quot;el camino::lonely boy ;; el camino::little black submarine ;; el camino::gold on the ceiling ;; turn blue::fever ;; turn blue::gotta get away ;; brothers::howlin for you ;; brothers::tighten up ;; turn blue::it is up to you now&quot;
</code></pre>
<p>Define the function <code class="py">build_playlist_dict()</code> which takes <code class="py">playlist_txt</code> as parameter and creates a dictionary having the album titles as keys each key will have the list of all its corresponding songs.</p>
<p><button class="toggle-solution btn btn-light" onclick="toggle_click(this,'sol_4_1d')">Show solution</button></p>
<pre id="sol_4_1d" class="code-overflow-wrap solution-code"><code class="language-python">
def build_playlist_dict(a_txt):
    result_dict = {}
    songs = a_txt.split(&quot; ;; &quot;)
    for a_song in songs:
        song_parts = a_song.split(&quot;::&quot;)
        album = song_parts[0]
        song_name = song_parts[1]
        if album not in result_dict:
            result_dict[album] = []
        result_dict[album].append(song_name)
    return result_dict

print(build_playlist_dict(playlist_txt))
</code></pre>
<h3 id="2nd-exercise">2nd Exercise</h3>
<p>Giving a collection of pokemon cards (i.e. a list) we want to readapt it following the pokemon-evolution rules, such that if we have two cards in our deck representing the same pokemon we must replace them with one card representing the evolved version of that pokemon. The evolution rules are defined in the following dictionary:</p>
<pre class="code-overflow-wrap"><code class="language-python">evolution_map = {
    &quot;Poliwag&quot;: &quot;Poliwhirl&quot;,
    &quot;Bulbasaur&quot;: &quot;Ivysaur&quot;,
    &quot;Charmander&quot;: &quot;Charmeleon&quot;,
    &quot;Pidgey&quot;: &quot;Pidgeotto&quot;,
    &quot;Psyduck&quot;: &quot;Golduck&quot;,
    &quot;Abra&quot;: &quot;Kadabra&quot;
}
</code></pre>
<p>For instance:</p>
<pre class="code-overflow-wrap"><code class="language-python">l_cards = [&quot;Poliwag&quot;, &quot;Pidgey&quot;, &quot;Abra&quot;, &quot;Pidgey&quot;, &quot;Charmander&quot;, &quot;Bulbasaur&quot;, &quot;Charmander&quot;, &quot;Psyduck&quot;, &quot;Poliwag&quot;,&quot;Goldeen&quot;]

# The new list should be:
# ['Poliwhirl', 'Charmeleon', 'Bulbasaur', 'Psyduck', 'Pidgeotto', 'Goldeen', 'Abra']
</code></pre>
<p>Define the function <code class="py">pokemon_cards()</code> which takes a list of pokemon cards and returns a new list of pokemon cards which follows the pokemon-evolution rules.</p>
<p><button class="toggle-solution btn btn-light" onclick="toggle_click(this,'sol_5_1')">Show solution</button></p>
<pre id="sol_5_1" class="code-overflow-wrap solution-code"><code class="language-python">def pokemon_cards(l_pokemons):
    card_checked = set()
    new_l_pokemons = list()
    for pok in l_pokemons:
        if pok not in card_checked:
            num_occ = 0
            for pok_check in l_pokemons:
                if pok_check == pok:
                    num_occ += 1

            if num_occ &gt; 1:
                pok_evol = evolution_map[pok]
                new_l_pokemons.append(pok_evol)
            else:
                new_l_pokemons.append(pok)

            card_checked.add(pok)

    return new_l_pokemons

</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../extra.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
